// 
// Decompiled by Procyon v0.5.36
// 

package com.veteran.hack.module.modules.exploits;

import java.util.function.Predicate;
import net.minecraft.init.Items;
import net.minecraft.util.EnumHand;
import me.zero.alpine.listener.EventHandler;
import net.minecraftforge.event.entity.player.PlayerDestroyItemEvent;
import me.zero.alpine.listener.Listener;
import com.veteran.hack.module.Module;

@Info(name = "OffhandBypass", category = Category.EXPLOIT, description = "E TO THE Z 2b2tPVP BYPASS FOUD SPEEDRUN 10 MINUTES TAS ANY%")
public class OffhandBypass extends Module
{
    @EventHandler
    private Listener<PlayerDestroyItemEvent> sendListener;
    
    public OffhandBypass() {
        this.sendListener = new Listener<PlayerDestroyItemEvent>(e -> {
            if (e.getHand() == EnumHand.MAIN_HAND && OffhandBypass.mc.player.getHeldItemMainhand().getItem() == Items.END_CRYSTAL) {
                e.setCanceled(true);
            }
        }, (Predicate<PlayerDestroyItemEvent>[])new Predicate[0]);
    }
    
    @Override
    public void onUpdate() {
        if (OffhandBypass.mc.player.getHeldItemMainhand().getItem() == Items.END_CRYSTAL && OffhandBypass.mc.player.getHeldItemOffhand().getItem() == Items.GOLDEN_APPLE && OffhandBypass.mc.gameSettings.keyBindUseItem.isKeyDown() && OffhandBypass.mc.player.getActiveHand() == EnumHand.MAIN_HAND) {
            OffhandBypass.mc.player.setActiveHand(EnumHand.OFF_HAND);
        }
    }
}
